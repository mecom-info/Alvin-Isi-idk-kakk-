<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VERITAS - –ò–≥—Ä–∞ –ü—Ä–∞–≤–¥—ã</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --truth-color: #198754;
            --lie-color: #dc3545;
            --primary-color: #0d6efd;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .game-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
        }
        
        .option-card {
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
        }
        
        .option-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .option-card.selected {
            border-color: var(--primary-color);
            background: #e8f4ff;
        }
        
        .truth-level-1 { border-left: 5px solid var(--truth-color); }
        .truth-level-2 { border-left: 5px solid #20c997; }
        .truth-level-3 { border-left: 5px solid #ffc107; }
        .truth-level-4 { border-left: 5px solid #fd7e14; }
        .truth-level-5 { border-left: 5px solid var(--lie-color); }
        
        .progress-bar {
            transition: width 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 768px) {
            .game-card {
                border-radius: 10px;
                margin: 10px;
            }
            .display-4 {
                font-size: 2rem;
            }
        }
        
        .character-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .consequence-alert {
            border-radius: 15px;
            border: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div id="app" class="container py-4"></div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div class="modal fade" id="resultsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">üèÅ –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h5>
                </div>
                <div class="modal-body" id="resultsContent"></div>
                <div class="modal-footer">
                    <button onclick="newGame()" class="btn btn-success">üéÆ –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // ==================== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ====================
        const TRUTH_LEVELS = [
            { name: "–ê–±—Å–æ–ª—é—Ç–Ω–∞—è –ø—Ä–∞–≤–¥–∞", color: "success", integrity: 10, risk: 8 },
            { name: "–°–º—è–≥—á–µ–Ω–Ω–∞—è –ø—Ä–∞–≤–¥–∞", color: "info", integrity: 7, risk: 5 },
            { name: "–ü–æ–ª—É–ø—Ä–∞–≤–¥–∞", color: "warning", integrity: 3, risk: 4 },
            { name: "–ë–µ–ª–∞—è –ª–æ–∂—å", color: "secondary", integrity: -3, risk: 3 },
            { name: "–ú–∞–Ω–∏–ø—É–ª—è—Ü–∏—è", color: "danger", integrity: -7, risk: 6 },
            { name: "–ö–æ–Ω—Å–ø–∏—Ä–æ–ª–æ–≥–∏—è", color: "dark", integrity: -10, risk: 9 }
        ];

        const SCENARIOS = {
            politics: {
                name: "–ü–æ–ª–∏—Ç–∏–∫–∞",
                icon: "üèõÔ∏è",
                description: "–í—ã - —Å–æ–≤–µ—Ç–Ω–∏–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –Ω–∞ –≤—ã–±–æ—Ä–∞—Ö. –°–∫–∞–Ω–¥–∞–ª—ã, –∫–æ–º–ø—Ä–æ–º–∞—Ç, –¥–µ–±–∞—Ç—ã."
            },
            media: {
                name: "–ú–µ–¥–∏–∞",
                icon: "üì∞",
                description: "–í—ã - –≥–ª–∞–≤–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä. –§–µ–π–∫–∏, —Ü–µ–Ω–∑—É—Ä–∞, —Ä–µ–π—Ç–∏–Ω–≥–∏ vs –ø—Ä–∞–≤–¥–∞."
            },
            corporate: {
                name: "–ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è",
                icon: "üíº",
                description: "–í—ã - PR-–¥–∏—Ä–µ–∫—Ç–æ—Ä. –£—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö, —Å–∫–∞–Ω–¥–∞–ª—ã, –∞–∫—Ü–∏–æ–Ω–µ—Ä—ã."
            },
            art: {
                name: "–ò—Å–∫—É—Å—Å—Ç–≤–æ",
                icon: "üé≠",
                description: "–í—ã - –≥–∞–ª–µ—Ä–∏—Å—Ç. –ü–ª–∞–≥–∏–∞—Ç, –ø—Ä–æ–≤–æ–∫–∞—Ü–∏–∏, –ø—Ä–æ–¥–∞–∂–Ω–æ—Å—Ç—å –∏—Å–∫—É—Å—Å—Ç–≤–∞."
            }
        };

        // ==================== –ö–õ–ê–°–°–´ –ò–ì–†–´ ====================
        class Character {
            constructor(scenario) {
                this.names = {
                    politics: ["–ê–ª–µ–∫—Å–µ–π –í–æ—Ä–æ–Ω–æ–≤", "–ú–∞—Ä–∏—è –°–≤–µ—Ç–ª–æ–≤–∞", "–î–º–∏—Ç—Ä–∏–π –ö–æ–≤–∞–ª—å"],
                    media: ["–ò—Ä–∏–Ω–∞ –ñ—É—Ä–Ω–∞–ª–æ–≤–∞", "–°–µ—Ä–≥–µ–π –†–µ–¥–∞–∫—Ç–æ—Ä–æ–≤", "–û–ª—å–≥–∞ –ü—Ä–µ—Å—Å–æ–≤–∞"],
                    corporate: ["–í–∏–∫—Ç–æ—Ä –ë–∏–∑–Ω–µ—Å–æ–≤", "–ê–Ω–Ω–∞ –î–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤–∞", "–ú–∞–∫—Å–∏–º –ê–∫—Ü–∏–æ–Ω–µ—Ä–æ–≤"],
                    art: ["–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –ê—Ä—Ç–æ–≤–∞", "–ü–∞–≤–µ–ª –•—É–¥–æ–∂–Ω–∏–∫–æ–≤", "–¢–∞—Ç—å—è–Ω–∞ –ì–∞–ª–µ—Ä–∏—Å—Ç–æ–≤–∞"]
                };
                
                this.secrets = {
                    politics: [
                        "—Å–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç –æ–ª–∏–≥–∞—Ä—Ö–∞",
                        "–∏–º–µ–µ—Ç —Å—á—ë—Ç –≤ –æ—Ñ—à–æ—Ä–µ",
                        "–ø–ª–∞–≥–∏–∞—Ç–∏–ª –¥–∏–ø–ª–æ–º–Ω—É—é —Ä–∞–±–æ—Ç—É"
                    ],
                    media: [
                        "–ø—É–±–ª–∏–∫–æ–≤–∞–ª —Ñ–µ–π–∫–∏ –ø–æ –∑–∞–∫–∞–∑—É",
                        "–ø–æ–ª—É—á–∞–ª –≤–∑—è—Ç–∫–∏ –∑–∞ —É–º–æ–ª—á–∞–Ω–∏–µ",
                        "—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–ø–µ—Ü—Å–ª—É–∂–±—ã"
                    ],
                    corporate: [
                        "–ø–æ–¥—Ç–∞—Å–æ–≤—ã–≤–∞–ª —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å",
                        "–ø—Ä–æ–¥–∞–≤–∞–ª –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–æ–≤",
                        "—Å–∫—Ä—ã–≤–∞–ª —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è"
                    ],
                    art: [
                        "–ø—Ä–æ–¥–∞—ë—Ç –ø–æ–¥–¥–µ–ª–∫–∏ –∫–∞–∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—ã",
                        "–≤–æ—Ä–æ–≤–∞–ª –∏–¥–µ–∏ —É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤",
                        "–æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞–ª –ø—Ä–æ–≤–æ–∫–∞—Ü–∏–∏ –¥–ª—è —Å–ª–∞–≤—ã"
                    ]
                };
                
                this.name = this.getRandom(this.names[scenario]);
                this.secret = this.getRandom(this.secrets[scenario]);
                this.trust = 50;
                this.reputation = 50;
                this.traits = this.generateTraits();
            }
            
            getRandom(arr) {
                return arr[Math.floor(Math.random() * arr.length)];
            }
            
            generateTraits() {
                const traits = [
                    "–ü—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω—ã–π", "–¶–∏–Ω–∏—á–Ω—ã–π", "–ò–¥–µ–∞–ª–∏—Å—Ç", "–ö–∞—Ä—å–µ—Ä–∏—Å—Ç",
                    "–ü—Ä–∞–≥–º–∞—Ç–∏–∫", "–ù–∞—Ä—Ü–∏—Å—Å", "–≠–º–ø–∞—Ç", "–ö–æ–Ω—Å–ø–∏—Ä–æ–ª–æ–≥"
                ];
                return this.getRandom(traits);
            }
        }

        class GameState {
            constructor(scenario, difficulty) {
                this.scenario = scenario;
                this.difficulty = difficulty;
                this.day = 1;
                this.trustCapital = 100;
                this.integrityScore = 0;
                this.deceptionScore = 0;
                this.characters = [];
                this.history = [];
                this.activeCharacter = null;
                this.generateCharacters();
            }
            
            generateCharacters() {
                for (let i = 0; i < 3; i++) {
                    this.characters.push(new Character(this.scenario));
                }
                this.activeCharacter = this.characters[0];
            }
            
            getTruthPercent() {
                const total = this.integrityScore + this.deceptionScore;
                return total > 0 ? Math.round((this.integrityScore / total) * 100) : 50;
            }
        }

        // ==================== –ì–ï–ù–ï–†–ê–¢–û–† –î–ò–õ–ï–ú–ú ====================
        class DilemmaGenerator {
            static generate(scenario, character, day) {
                const templates = {
                    politics: [
                        `–£—Ç–µ—á–∫–∞ –ø–µ—Ä–µ–ø–∏—Å–æ–∫: ${character.name} ${character.secret}. –ü—Ä–µ—Å—Å-–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è —á–µ—Ä–µ–∑ —á–∞—Å.`,
                        `–ù–∞ –¥–µ–±–∞—Ç–∞—Ö –æ–ø–ø–æ–Ω–µ–Ω—Ç –æ–±–≤–∏–Ω—è–µ—Ç ${character.name} –≤ ${character.secret}. –ü—Ä—è–º–æ–π —ç—Ñ–∏—Ä.`,
                        `–ñ—É—Ä–Ω–∞–ª–∏—Å—Ç—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏, —á—Ç–æ ${character.name} ${character.secret}. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–æ –≤–µ—á–µ—Ä–∞.`
                    ],
                    media: [
                        `–ò—Å—Ç–æ—á–Ω–∏–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç: –ø—É–±–ª–∏—á–Ω–æ–µ –ª–∏—Ü–æ ${character.secret}. –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å –±–µ–∑ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤?`,
                        `–í–ª–∞–¥–µ–ª–µ—Ü —Ç—Ä–µ–±—É–µ—Ç —Å–∫—Ä—ã—Ç—å —Ñ–∞–∫—Ç ${character.secret}. –£–≥—Ä–æ–∂–∞–µ—Ç —É–≤–æ–ª—å–Ω–µ–Ω–∏–µ–º.`,
                        `–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã –ø—É–±–ª–∏–∫—É—é—Ç —Ñ–µ–π–∫ –æ –≤–∞—Å. ${character.name} –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ—Ç–≤–µ—Ç–∏—Ç—å —Å–≤–æ–µ–π –ª–æ–∂—å—é.`
                    ],
                    corporate: [
                        `–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∞—É–¥–∏—Ç –æ–±–Ω–∞—Ä—É–∂–∏–ª: ${character.name} ${character.secret}. –û—Ç—á—ë—Ç –∞–∫—Ü–∏–æ–Ω–µ—Ä–∞–º –∑–∞–≤—Ç—Ä–∞.`,
                        `–≠–∫–æ–∞–∫—Ç–∏–≤–∏—Å—Ç—ã –Ω–∞—à–ª–∏ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ ${character.secret}. –ü—Ä–µ—Å—Å-—Ä–µ–ª–∏–∑ –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å.`,
                        `–ò–Ω—Å–∞–π–¥–µ—Ä —É–≥—Ä–æ–∂–∞–µ—Ç —Ä–∞—Å–∫—Ä—ã—Ç—å, —á—Ç–æ ${character.name} ${character.secret}. –ù—É–∂–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å.`
                    ],
                    art: [
                        `–ö—Ä–∏—Ç–∏–∫–∏ –æ–±–≤–∏–Ω—è—é—Ç ${character.name} –≤ ${character.secret}. –ò–Ω—Ç–µ—Ä–≤—å—é –≤ –ø—Ä—è–º–æ–º —ç—Ñ–∏—Ä–µ.`,
                        `–°–ø–æ–Ω—Å–æ—Ä —Ç—Ä–µ–±—É–µ—Ç —Å–∫—Ä—ã—Ç—å, —á—Ç–æ ${character.name} ${character.secret}. –í—ã—Å—Ç–∞–≤–∫–∞ –∑–∞–≤—Ç—Ä–∞.`,
                        `–ö–æ–ª–ª–µ–≥–∞ –≥—Ä–æ–∑–∏—Ç —Ä–∞—Å–∫—Ä—ã—Ç—å, —á—Ç–æ ${character.name} ${character.secret}. –í–µ—Ä–Ω–∏—Å–∞–∂ —Å–µ–≥–æ–¥–Ω—è.`
                    ]
                };
                
                const options = [
                    "–ü—Ä–∏–∑–Ω–∞—Ç—å –≤—Å—ë –æ—Ç–∫—Ä—ã—Ç–æ, –≤–∑—è—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å",
                    "–ü—Ä–∏–∑–Ω–∞—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ, —Å–º—è–≥—á–∏—Ç—å —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏",
                    "–°–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–¥—É, –Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –¥–µ—Ç–∞–ª–∏",
                    "–û—Ç—Ä–∏—Ü–∞—Ç—å, —Å–æ—Å–ª–∞–≤—à–∏—Å—å –Ω–∞ –Ω–µ–¥–æ–ø–æ–Ω–∏–º–∞–Ω–∏–µ",
                    "–û–±–≤–∏–Ω–∏—Ç—å –¥—Ä—É–≥–∏—Ö, –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å –ø–æ–≤–µ—Å—Ç–∫—É",
                    "–ó–∞—è–≤–∏—Ç—å –æ –∑–∞–≥–æ–≤–æ—Ä–µ –ø—Ä–æ—Ç–∏–≤ –≤–∞—Å"
                ];
                
                return {
                    id: `dilemma_${Date.now()}`,
                    text: DilemmaGenerator.getRandom(templates[scenario]),
                    character: character,
                    day: day,
                    pressure: Math.min(10, day + 2),
                    options: options.map((text, i) => ({
                        text: text,
                        level: i,
                        integrity: TRUTH_LEVELS[i].integrity,
                        risk: TRUTH_LEVELS[i].risk
                    }))
                };
            }
            
            static getRandom(arr) {
                return arr[Math.floor(Math.random() * arr.length)];
            }
        }

        // ==================== –Ø–î–†–û –ò–ì–†–´ ====================
        class VeritasGame {
            constructor() {
                this.state = null;
                this.currentDilemma = null;
                this.ui = new GameUI();
            }
            
            startNewGame(scenario = 'politics', difficulty = 'normal') {
                this.state = new GameState(scenario, difficulty);
                this.nextDilemma();
                this.ui.renderGame(this);
            }
            
            nextDilemma() {
                if (this.state.day > 10) {
                    this.endGame();
                    return;
                }
                
                this.currentDilemma = DilemmaGenerator.generate(
                    this.state.scenario,
                    this.state.activeCharacter,
                    this.state.day
                );
            }
            
            makeChoice(choiceIndex) {
                const choice = this.currentDilemma.options[choiceIndex];
                const consequences = this.calculateConsequences(choice);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                this.state.activeCharacter.trust += consequences.trustChange;
                this.state.activeCharacter.reputation += consequences.repChange;
                this.state.trustCapital += consequences.capitalChange;
                
                if (choice.integrity > 0) {
                    this.state.integrityScore += Math.abs(choice.integrity);
                } else {
                    this.state.deceptionScore += Math.abs(choice.integrity);
                }
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                this.state.history.push({
                    day: this.state.day,
                    character: this.state.activeCharacter.name,
                    choice: choice.text,
                    consequences: consequences
                });
                
                // –ú–µ–Ω—è–µ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
                this.state.activeCharacter = this.state.characters[
                    this.state.day % this.state.characters.length
                ];
                
                this.state.day++;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
                this.ui.showConsequences(consequences, () => {
                    if (this.state.day > 10 || this.state.trustCapital <= 0) {
                        this.endGame();
                    } else {
                        this.nextDilemma();
                        this.ui.renderGame(this);
                    }
                });
            }
            
            calculateConsequences(choice) {
                // –ë–∞–∑–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
                let trustChange = choice.integrity * 2;
                let repChange = -choice.risk * 2;
                let capitalChange = choice.integrity;
                
                // –í–ª–∏—è–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
                if (this.state.difficulty === 'hard') {
                    trustChange *= 1.3;
                    repChange *= 1.3;
                } else if (this.state.difficulty === 'easy') {
                    trustChange *= 0.7;
                    repChange *= 0.7;
                }
                
                // –°–ª—É—á–∞–π–Ω–æ—Å—Ç—å
                trustChange += Math.floor(Math.random() * 10) - 5;
                repChange += Math.floor(Math.random() * 10) - 5;
                
                // –û—Å–æ–±—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
                const special = [];
                if (Math.random() < 0.3) {
                    special.push("–í–∞—à–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ –≤—ã–∑–≤–∞–ª–æ –≤–æ–ª–Ω—É –æ–±—Å—É–∂–¥–µ–Ω–∏–π –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö");
                }
                if (choice.level >= 4 && Math.random() < 0.4) {
                    special.push("–ü–æ—è–≤–∏–ª–∏—Å—å –Ω–æ–≤—ã–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø—Ä–æ—Ç–∏–≤ –≤–∞—Å");
                    repChange -= 10;
                }
                
                return {
                    trustChange: Math.round(trustChange),
                    repChange: Math.round(repChange),
                    capitalChange: Math.round(capitalChange),
                    special: special,
                    description: this.generateConsequenceText(choice, trustChange, repChange)
                };
            }
            
            generateConsequenceText(choice, trustChange, repChange) {
                const texts = {
                    positive: [
                        "–ü–µ—Ä—Å–æ–Ω–∞–∂ –æ—Ü–µ–Ω–∏–ª –≤–∞—à—É —á–µ—Å—Ç–Ω–æ—Å—Ç—å",
                        "–ü—É–±–ª–∏–∫–∞ —É–≤–∞–∂–∞–µ—Ç –≤–∞—à—É –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å",
                        "–í–∞—à–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏—è —Ä–∞—Å—Ç—ë—Ç",
                        "–î–æ–≤–µ—Ä–∏–µ —É–∫—Ä–µ–ø–ª—è–µ—Ç—Å—è"
                    ],
                    negative: [
                        "–ü–µ—Ä—Å–æ–Ω–∞–∂ —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω –≤–∞—à–∏–º –≤—ã–±–æ—Ä–æ–º",
                        "–ü—É–±–ª–∏–∫–∞ –Ω–µ –æ—Ü–µ–Ω–∏–ª–∞ –≤–∞—à—É —Ö–∏—Ç—Ä–æ—Å—Ç—å",
                        "–†–µ–ø—É—Ç–∞—Ü–∏—è –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–∞",
                        "–î–æ–≤–µ—Ä–∏–µ –ø–æ—à–∞—Ç–Ω—É–ª–æ—Å—å"
                    ],
                    neutral: [
                        "–†–µ–∞–∫—Ü–∏—è –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–∞—è",
                        "–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –ø—Ä–æ—è–≤—è—Ç—Å—è –ø–æ–∑–∂–µ",
                        "–°–∏—Ç—É–∞—Ü–∏—è –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω–æ–π"
                    ]
                };
                
                if (trustChange > 10) return this.getRandom(texts.positive);
                if (trustChange < -10) return this.getRandom(texts.negative);
                return this.getRandom(texts.neutral);
            }
            
            getRandom(arr) {
                return arr[Math.floor(Math.random() * arr.length)];
            }
            
            endGame() {
                const results = {
                    finalScore: this.calculateFinalScore(),
                    trustCapital: this.state.trustCapital,
                    integrityScore: this.state.integrityScore,
                    deceptionScore: this.state.deceptionScore,
                    truthPercent: this.state.getTruthPercent(),
                    playerType: this.determinePlayerType(),
                    characterFates: this.getCharacterFates()
                };
                
                this.ui.showResults(results);
            }
            
            calculateFinalScore() {
                const truthBonus = this.state.getTruthPercent() * 2;
                return Math.max(0, this.state.trustCapital + truthBonus);
            }
            
            determinePlayerType() {
                const percent = this.state.getTruthPercent();
                if (percent >= 80) return "üïäÔ∏è –ò–î–ï–ê–õ–ò–°–¢ –ü–†–ê–í–î–´";
                if (percent >= 60) return "‚öñÔ∏è –ß–ï–°–¢–ù–´–ô –°–¢–†–ê–¢–ï–ì";
                if (percent >= 40) return "üé≠ –ü–†–ê–ì–ú–ê–¢–ò–ß–ù–´–ô –ë–ê–õ–ê–ù–°–ò–†";
                if (percent >= 20) return "ü¶ä –¶–ò–ù–ò–ß–ù–´–ô –ú–ê–ù–ò–ü–£–õ–Ø–¢–û–†";
                return "üë∫ –ö–û–ù–°–ü–ò–†–û–õ–û–ì-–†–ê–ó–†–£–®–ò–¢–ï–õ–¨";
            }
            
            getCharacterFates() {
                return this.state.characters.map(char => ({
                    name: char.name,
                    finalTrust: char.trust,
                    finalRep: char.reputation,
                    fate: this.getCharacterFate(char)
                }));
            }
            
            getCharacterFate(char) {
                if (char.trust >= 80) return "–°—Ç–∞–ª –≤–∞—à–∏–º –≤–µ—Ä–Ω—ã–º —Å–æ—é–∑–Ω–∏–∫–æ–º";
                if (char.trust >= 60) return "–°–æ—Ö—Ä–∞–Ω–∏–ª –ª–æ—è–ª—å–Ω–æ—Å—Ç—å";
                if (char.trust >= 40) return "–û—Ç–Ω–æ—à–µ–Ω–∏—è –æ—Ö–ª–∞–¥–µ–ª–∏";
                if (char.trust >= 20) return "–ü—Ä–µ–¥–∞–ª –≤–∞—Å –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏";
                return "–†–∞—Å–∫—Ä—ã–ª –≤–∞—à–∏ —Å–µ–∫—Ä–µ—Ç—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º";
            }
        }

        // ==================== –ò–ù–¢–ï–†–§–ï–ô–° –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø ====================
        class GameUI {
            constructor() {
                this.app = document.getElementById('app');
            }
            
            renderGame(game) {
                const state = game.state;
                const dilemma = game.currentDilemma;
                
                this.app.innerHTML = `
                    <div class="game-card p-4 p-md-5 fade-in">
                        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
                        <div class="text-center mb-4">
                            <h1 class="display-4 mb-2">üé≠ VERITAS</h1>
                            <div class="d-flex justify-content-center gap-3 mb-3">
                                <span class="badge bg-primary">${SCENARIOS[state.scenario].icon} ${SCENARIOS[state.scenario].name}</span>
                                <span class="badge bg-secondary">–î–µ–Ω—å ${state.day}/10</span>
                                <span class="badge bg-${state.difficulty === 'hard' ? 'danger' : state.difficulty === 'easy' ? 'success' : 'warning'}">
                                    ${state.difficulty === 'hard' ? '–≠–∫—Å–ø–µ—Ä—Ç' : state.difficulty === 'easy' ? '–ù–æ–≤–∏—á–æ–∫' : '–°—Ç–∞–Ω–¥–∞—Ä—Ç'}
                                </span>
                            </div>
                        </div>
                        
                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                        <div class="row mb-4">
                            <div class="col-md-3 col-6 mb-3">
                                <div class="card text-center h-100">
                                    <div class="card-body">
                                        <h2 class="text-primary">${state.trustCapital}</h2>
                                        <small class="text-muted">–ö—Ä–µ–¥–∏—Ç –¥–æ–≤–µ—Ä–∏—è</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 mb-3">
                                <div class="card text-center h-100">
                                    <div class="card-body">
                                        <h2 class="text-success">${state.integrityScore}</h2>
                                        <small class="text-muted">–û—á–∫–∏ —á–µ—Å—Ç–Ω–æ—Å—Ç–∏</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 mb-3">
                                <div class="card text-center h-100">
                                    <div class="card-body">
                                        <h2 class="text-danger">${state.deceptionScore}</h2>
                                        <small class="text-muted">–û—á–∫–∏ –ª–∂–∏</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 mb-3">
                                <div class="card text-center h-100">
                                    <div class="card-body">
                                        <div class="progress" style="height: 30px;">
                                            <div class="progress-bar bg-success" style="width: ${state.getTruthPercent()}%">
                                                ${state.getTruthPercent()}%
                                            </div>
                                        </div>
                                        <small class="text-muted">–ë–∞–ª–∞–Ω—Å –ø—Ä–∞–≤–¥—ã</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- –ü–µ—Ä—Å–æ–Ω–∞–∂ -->
                        <div class="character-card mb-4">
                            <h4>üë§ ${dilemma.character.name}</h4>
                            <p class="mb-2"><strong>–ß–µ—Ä—Ç–∞:</strong> ${dilemma.character.traits}</p>
                            <p class="mb-0"><strong>–°–µ–∫—Ä–µ—Ç:</strong> ${dilemma.character.secret}</p>
                            <div class="d-flex gap-4 mt-2">
                                <small>–î–æ–≤–µ—Ä–∏–µ: ${dilemma.character.trust}/100</small>
                                <small>–†–µ–ø—É—Ç–∞—Ü–∏—è: ${dilemma.character.reputation}/100</small>
                            </div>
                        </div>
                        
                        <!-- –î–∏–ª–µ–º–º–∞ -->
                        <div class="mb-4">
                            <h4 class="mb-3">üìú –î–∏–ª–µ–º–º–∞ –¥–Ω—è (–î–∞–≤–ª–µ–Ω–∏–µ: ${dilemma.pressure}/10)</h4>
                            <div class="alert alert-dark fs-5">
                                ${dilemma.text}
                            </div>
                        </div>
                        
                        <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã -->
                        <h4 class="mb-3">ü§î –í–∞—à –≤—ã–±–æ—Ä:</h4>
                        <div class="row g-3" id="optionsContainer">
                            ${dilemma.options.map((opt, i) => `
                                <div class="col-md-6">
                                    <div class="option-card card h-100 truth-level-${opt.level + 1}" 
                                         onclick="game.makeChoice(${i})"
                                         data-choice="${i}">
                                        <div class="card-body">
                                            <h5 class="card-title">${TRUTH_LEVELS[opt.level].name}</h5>
                                            <p class="card-text">${opt.text}</p>
                                            <div class="d-flex justify-content-between mt-3">
                                                <span class="badge bg-${TRUTH_LEVELS[opt.level].color}">
                                                    –ß–µ—Å—Ç–Ω–æ—Å—Ç—å: ${opt.integrity > 0 ? '+' : ''}${opt.integrity}
                                                </span>
                                                <span class="badge bg-secondary">
                                                    –†–∏—Å–∫: ${opt.risk}/10
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
                        <div class="mt-4 text-center">
                            <div class="btn-group">
                                <button onclick="showStartScreen()" class="btn btn-outline-secondary">
                                    üè† –í –º–µ–Ω—é
                                </button>
                                <button onclick="saveGame()" class="btn btn-outline-primary">
                                    üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                                </button>
                            </div>
                            <div class="mt-3">
                                <small class="text-muted">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç –∫–ª–∏–∫–æ–º –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ü–∏—Ñ—Ä—ã 1-6</small>
                            </div>
                        </div>
                    </div>
                `;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–ª–∞–≤–∏—à
                this.addKeyboardListeners(game);
            }
            
            addKeyboardListeners(game) {
                const handler = (e) => {
                    if (e.key >= '1' && e.key <= '6') {
                        const index = parseInt(e.key) - 1;
                        if (index < game.currentDilemma.options.length) {
                            document.querySelectorAll('.option-card')[index].click();
                        }
                    }
                };
                
                document.removeEventListener('keydown', window._keyHandler);
                window._keyHandler = handler;
                document.addEventListener('keydown', handler);
            }
            
            showConsequences(consequences, callback) {
                const specialHTML = consequences.special.length > 0 ? `
                    <div class="alert alert-warning mt-3">
                        <strong>‚ö° –û—Å–æ–±—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:</strong>
                        <ul class="mb-0 mt-2">
                            ${consequences.special.map(s => `<li>${s}</li>`).join('')}
                        </ul>
                    </div>
                ` : '';
                
                const html = `
                    <div class="consequence-alert alert alert-info">
                        <h4>üìä –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –≤–∞—à–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è</h4>
                        <p class="fs-5">${consequences.description}</p>
                        
                        <div class="row text-center mt-4">
                            <div class="col-4">
                                <div class="h3 ${consequences.trustChange >= 0 ? 'text-success' : 'text-danger'}">
                                    ${consequences.trustChange >= 0 ? '+' : ''}${consequences.trustChange}
                                </div>
                                <small>–î–æ–≤–µ—Ä–∏–µ</small>
                            </div>
                            <div class="col-4">
                                <div class="h3 ${consequences.repChange >= 0 ? 'text-success' : 'text-danger'}">
                                    ${consequences.repChange >= 0 ? '+' : ''}${consequences.repChange}
                                </div>
                                <small>–†–µ–ø—É—Ç–∞—Ü–∏—è</small>
                            </div>
                            <div class="col-4">
                                <div class="h3 ${consequences.capitalChange >= 0 ? 'text-success' : 'text-danger'}">
                                    ${consequences.capitalChange >= 0 ? '+' : ''}${consequences.capitalChange}
                                </div>
                                <small>–ö—Ä–µ–¥–∏—Ç –¥–æ–≤–µ—Ä–∏—è</small>
                            </div>
                        </div>
                        
                        ${specialHTML}
                        
                        <div class="text-center mt-4">
                            <button onclick="closeConsequences()" class="btn btn-primary btn-lg">
                                –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                            </button>
                        </div>
                    </div>
                `;
                
                this.app.innerHTML = html;
                
                window.closeConsequences = () => {
                    if (callback) callback();
                };
            }
            
            showResults(results) {
                const modal = new bootstrap.Modal(document.getElementById('resultsModal'));
                const content = document.getElementById('resultsContent');
                
                content.innerHTML = `
                    <div class="text-center">
                        <h2 class="mb-4">${results.playerType}</h2>
                        
                        <div class="row mb-4">
                            <div class="col-md-3 col-6 mb-3">
                                <div class="card">
                                    <div class="card-body">
                                        <h3 class="text-primary">${results.finalScore}</h3>
                                        <small>–ò—Ç–æ–≥–æ–≤—ã–π —Å—á—ë—Ç</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 mb-3">
                                <div class="card">
                                    <div class="card-body">
                                        <h3 class="text-success">${results.trustCapital}</h3>
                                        <small>–ö—Ä–µ–¥–∏—Ç –¥–æ–≤–µ—Ä–∏—è</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 mb-3">
                                <div class="card">
                                    <div class="card-body">
                                        <h3 class="text-info">${results.truthPercent}%</h3>
                                        <small>–ß–µ—Å—Ç–Ω–æ—Å—Ç—å</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 col-6 mb-3">
                                <div class="card">
                                    <div class="card-body">
                                        <h3>${results.integrityScore}/${results.deceptionScore}</h3>
                                        <small>–ü—Ä–∞–≤–¥–∞/–õ–æ–∂—å</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="alert alert-dark">
                            <h5>–°—É–¥—å–±–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π:</h5>
                            ${results.characterFates.map(char => `
                                <div class="d-flex justify-content-between border-bottom py-2">
                                    <span>${char.name}</span>
                                    <span class="badge bg-${char.finalTrust >= 60 ? 'success' : char.finalTrust >= 40 ? 'warning' : 'danger'}">
                                        ${char.fate}
                                    </span>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="mt-4">
                            <p class="lead">
                                ${this.getEpilogue(results.playerType)}
                            </p>
                        </div>
                    </div>
                `;
                
                modal.show();
            }
            
            getEpilogue(playerType) {
                const epilogues = {
                    "üïäÔ∏è –ò–î–ï–ê–õ–ò–°–¢ –ü–†–ê–í–î–´": "–í—ã –ø—Ä–æ—à–ª–∏ –æ–≥–æ–Ω—å –∏ –≤–æ–¥—É, –Ω–µ —Å–ª–æ–º–∞–≤—à–∏—Å—å. –í–∞—à–∞ —á–µ—Å—Ç–Ω–æ—Å—Ç—å —Å—Ç–∞–ª–∞ –ª–µ–≥–µ–Ω–¥–æ–π, —Ö–æ—Ç—è –∏ —Å—Ç–æ–∏–ª–∞ –º–Ω–æ–≥–∏—Ö —Å–æ—é–∑–Ω–∏–∫–æ–≤.",
                    "‚öñÔ∏è –ß–ï–°–¢–ù–´–ô –°–¢–†–ê–¢–ï–ì": "–í—ã –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–ª–∏ –º–µ–∂–¥—É –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ –∏ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é, –Ω–∞—Ö–æ–¥—è –∑–æ–ª–æ—Ç—É—é —Å–µ—Ä–µ–¥–∏–Ω—É. –ü—Ä–∏–º–µ—Ä –¥–ª—è –ø–æ–¥—Ä–∞–∂–∞–Ω–∏—è.",
                    "üé≠ –ü–†–ê–ì–ú–ê–¢–ò–ß–ù–´–ô –ë–ê–õ–ê–ù–°–ò–†": "–í—ã –≤—ã–∂–∏–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ, –∏–Ω–æ–≥–¥–∞ —Å–≥–∏–±–∞—è—Å—å, –Ω–æ –Ω–µ –ª–æ–º–∞—è—Å—å. –¢–∏–ø–∏—á–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç —ç–ø–æ—Ö–∏ –ø–æ—Å—Ç–ø—Ä–∞–≤–¥—ã.",
                    "ü¶ä –¶–ò–ù–ò–ß–ù–´–ô –ú–ê–ù–ò–ü–£–õ–Ø–¢–û–†": "–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –≤–µ—Ä—à–∏–Ω—ã, –æ—Å—Ç–∞–≤–∏–≤ –∑–∞ —Å–æ–±–æ–π —Å–ª–æ–º–∞–Ω–Ω—ã–µ —Å—É–¥—å–±—ã. –í–ª–∞—Å—Ç—å –µ—Å—Ç—å, –Ω–æ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ - –ø–ª–∞—Ç–∞.",
                    "üë∫ –ö–û–ù–°–ü–ò–†–û–õ–û–ì-–†–ê–ó–†–£–®–ò–¢–ï–õ–¨": "–í—ã —Å–µ—è–ª–∏ —Ö–∞–æ—Å –∏ –ø–æ–∂–∏–Ω–∞–ª–∏ –µ–≥–æ –ø–ª–æ–¥—ã. –ü—Ä–∞–≤–¥–∞ –±—ã–ª–∞ –≤–∞—à–∏–º –≤—Ä–∞–≥–æ–º, –∏ –≤—ã –ø–æ–±–µ–¥–∏–ª–∏ –µ—ë."
                };
                return epilogues[playerType] || "–ü—É—Ç—å –æ–∫–æ–Ω—á–µ–Ω. –ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—Å—É–¥–∏—Ç.";
            }
            
            renderStartScreen() {
                this.app.innerHTML = `
                    <div class="game-card p-4 p-md-5 text-center fade-in">
                        <h1 class="display-1 mb-4">üé≠</h1>
                        <h1 class="display-3 mb-3">VERITAS</h1>
                        <p class="lead mb-5">–ò—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å vs –ü–æ—Å—Ç–ø—Ä–∞–≤–¥–∞ –≤ —Ü–∏—Ñ—Ä–æ–≤—É—é —ç–ø–æ—Ö—É</p>
                        
                        <div class="row justify-content-center mb-5">
                            <div class="col-md-8">
                                <div class="alert alert-dark">
                                    <h5>üéÆ 10 –¥–Ω–µ–π —Å–ª–æ–∂–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π</h5>
                                    <p class="mb-0">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π –∏ –ø—Ä–æ–π–¥–∏—Ç–µ –ø—É—Ç—å –æ—Ç –∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –¥–æ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row g-4 mb-5">
                            ${Object.entries(SCENARIOS).map(([key, scenario]) => `
                                <div class="col-md-3 col-6">
                                    <div class="card h-100 option-card" onclick="startScenario('${key}')">
                                        <div class="card-body">
                                            <h2 class="mb-3">${scenario.icon}</h2>
                                            <h5>${scenario.name}</h5>
                                            <p class="small text-muted">${scenario.description}</p>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="mb-4">
                            <h5 class="mb-3">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å:</h5>
                            <div class="btn-group" role="group">
                                <button onclick="startGameWithDifficulty('easy')" class="btn btn-success">
                                    üü¢ –ù–æ–≤–∏—á–æ–∫
                                </button>
                                <button onclick="startGameWithDifficulty('normal')" class="btn btn-warning">
                                    üü° –°—Ç–∞–Ω–¥–∞—Ä—Ç
                                </button>
                                <button onclick="startGameWithDifficulty('hard')" class="btn btn-danger">
                                    üî¥ –≠–∫—Å–ø–µ—Ä—Ç
                                </button>
                            </div>
                        </div>
                        
                        <div class="mt-5">
                            <small class="text-muted">
                                –ò–≥—Ä–∞ –∏—Å—Å–ª–µ–¥—É–µ—Ç –¥–∏–ª–µ–º–º—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –º–∏—Ä–∞: –ø–æ–ª–∏—Ç–∏–∫–∞, –º–µ–¥–∏–∞, –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏, –∏—Å–∫—É—Å—Å—Ç–≤–æ
                            </small>
                        </div>
                    </div>
                `;
            }
        }

        // ==================== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        let game = new VeritasGame();
        let selectedScenario = 'politics';
        let selectedDifficulty = 'normal';

        function showStartScreen() {
            game.ui.renderStartScreen();
        }

        function startScenario(scenario) {
            selectedScenario = scenario;
            document.querySelectorAll('.card').forEach(card => {
                card.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
        }

        function startGameWithDifficulty(difficulty) {
            selectedDifficulty = difficulty;
            game.startNewGame(selectedScenario, selectedDifficulty);
        }

        function newGame() {
            bootstrap.Modal.getInstance(document.getElementById('resultsModal')).hide();
            showStartScreen();
        }

        function saveGame() {
            if (game.state) {
                const saveData = {
                    state: game.state,
                    timestamp: new Date().toISOString()
                };
                localStorage.setItem('veritas_save', JSON.stringify(saveData));
                alert('üéÆ –ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞! –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∑–∂–µ.');
            }
        }

        function loadGame() {
            const saved = localStorage.getItem('veritas_save');
            if (saved) {
                try {
                    const saveData = JSON.parse(saved);
                    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–≥—Ä—É
                    alert('–ó–∞–≥—Ä—É–∂–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ!');
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', e);
                }
            }
        }

        // ==================== –ó–ê–ü–£–°–ö –ò–ì–†–´ ====================
        document.addEventListener('DOMContentLoaded', () => {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω
            showStartScreen();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –µ—Å–ª–∏ –µ—Å—Ç—å
            loadGame();
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
            window.game = game;
            window.showStartScreen = showStartScreen;
            window.startScenario = startScenario;
            window.startGameWithDifficulty = startGameWithDifficulty;
            window.newGame = newGame;
            window.saveGame = saveGame;
        });
    </script>
</body>
</html>
